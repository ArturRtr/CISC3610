<!DOCTYPE html>
<html>
<head>
  <!-- Responsive -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Title -->
  <title>PWA Tutorial</title>
  <!-- Meta Tags required for
       Progressive Web App -->
  <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
  <meta name="theme-color" content="black">
  <!-- Manifest File link -->
  <link rel="manifest"href="manifest.json">
</head>
<body>
  <h1>PWA Project</h1>
  <script>
    // Script for Service Worker
  </script>
  <h2>Install the PWA here</h2>
  <button id="installApp">Install</button><br>
  <a href="https://arturrtr.github.io/CISC3610/">Home</a>
  <script>
    window.addEventListener('load', () => {
      registerSW();
    });
 
    // Register the Service Worker
    async function registerSW() {
      if ('serviceWorker' in navigator) {
        try {
          await navigator
                .serviceWorker
                .register('serviceworker.js');
        }
        catch (e) {
          console.log('SW registration failed');
        }
      }
    }
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
        deferredPrompt = e;
    });

    const installApp = document.getElementById('installApp');
    installApp.addEventListener('click', async () => {
        if (deferredPrompt !== null) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            if (outcome === 'accepted') {
                deferredPrompt = null;
            }
        }
    });
 </script>
</body>
</html>